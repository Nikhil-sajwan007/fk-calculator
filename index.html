<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flipkart Payout Calculator</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">FK</div>
      <div>
        <h1>Flipkart Payout Calculator</h1>
        <p class="lead">Choose an item (default: Jar), edit rates, or enter Price / Desired Payout. Fill only one of Price or Desired Payout. </p>
      </div>
    </header>

    <main class="grid">
      <section class="panel inputs">
        <h2>Item & Inputs</h2>

        <label>Item
          <select id="itemType">
            <option value="Jar" selected>Jar</option>
            <!-- add more items later -->
          </select>
        </label>

        <div class="row two">
          <label>Flipkart Price (₹)
            <input id="price" type="number" min="0" step="0.01" placeholder="e.g. 299">
          </label>
          <label>Desired Payout (₹)
            <input id="desired" type="number" min="0" step="0.01" placeholder="e.g. 190.61">
          </label>
        </div>

        <h3>Item dimensions & weight</h3>
        <div class="row two">
          <label>Actual weight (grams)
            <input id="actualWeight" type="number" min="0" step="1" value="350">
          </label>
          <label>Zone
            <select id="zone">
              <option value="local">Local</option>
              <option value="zonal" selected>Zonal</option>
              <option value="national">National</option>
            </select>
          </label>
        </div>

        <div class="row three">
          <label>Length (cm)<input id="length" type="number" min="0" step="0.1" value="12"></label>
          <label>Width (cm)<input id="width" type="number" min="0" step="0.1" value="12"></label>
          <label>Height (cm)<input id="height" type="number" min="0" step="0.1" value="15"></label>
        </div>

        <label class="checkbox">
          <input id="includeShippingInCollection" type="checkbox">
          Collection fee on (Price + Shipping)
        </label>

        <h3>Rates (editable)</h3>
        <div class="row two">
          <label>Commission Rate (%)<input id="commissionRate" type="number" step="0.01" value="12"></label>
          <label>Collection Rate (%)<input id="collectionRate" type="number" step="0.01" value="2"></label>
        </div>
        <div class="row two">
          <label>Closing Fee (auto)</label>
          <div id="closingFeeDisplay" class="autoField">₹10</div>
          <label>GST Rate (%)<input id="gstRate" type="number" step="0.01" value="18"></label>
        </div>

        <div class="controls">
          <button id="calcBtn">Calculate</button>
          <button id="resetBtn" class="ghost">Reset</button>
          <button id="copyBtn" class="ghost">Copy result</button>
        </div>

        <p class="note">Tip: If both Price and Desired Payout are filled, Price takes precedence. Collection fee cap = ₹30 (applied automatically).</p>
      </section>

      <aside class="panel results">
        <h2>Results</h2>

        <div class="resultRow">
          <div class="label">Final payout</div>
          <div id="finalPayout" class="big">-</div>
        </div>

        <div class="resultRow">
          <div class="label">Required price</div>
          <div id="reqPrice">-</div>
        </div>

        <hr>

        <div class="resultRow small">
          <div class="label">Chargeable weight</div>
          <div id="outChargeable">-</div>
        </div>

        <div class="resultRow small">
          <div class="label">Shipping fee</div>
          <div id="outShipping">-</div>
        </div>

        <div class="resultRow small">
          <div class="label">Commission</div>
          <div id="outCommission">-</div>
        </div>

        <div class="resultRow small">
          <div class="label">Collection fee</div>
          <div id="outCollection">-</div>
        </div>

        <div class="resultRow small">
          <div class="label">Closing fee</div>
          <div id="outClosing">-</div>
        </div>

        <div class="resultRow small">
          <div class="label">Fees before GST</div>
          <div id="outFeesBeforeGst">-</div>
        </div>

        <div class="resultRow small">
          <div class="label">GST on fees</div>
          <div id="outGst">-</div>
        </div>

        <div class="resultRow small">
          <div class="label">Total deductions</div>
          <div id="outTotalDeduct">-</div>
        </div>

        <div id="err" class="error" style="display:none"></div>

        <p class="foot">Adjust item dims/rates to match your Seller Hub for accurate reconciliation.</p>
      </aside>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
